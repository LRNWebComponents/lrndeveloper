<script>
  // ensure LRNBehaviors exists globally before acting on them
  window.LRNBehaviors = window.LRNBehaviors || {};
  // create a behavior for elements that have a 'display' connotation
  window.LRNBehaviors.DisplayBehaviors = {
    properties: {
      display: {
        type: String,
        value: 'card',
        notify: true
      },
    },
    getDisplay: function(display) {
      // this is able to transform display names that are shorthand
      // and convert them to longhand. For example 'card' will be returned
      // as lrndesign-card. lrndesign-card passed in would be lrndesign-card
      // returned. paper-card passed in would be paper-card returned.
      // This allows end users to say "render as a card" without constantly
      // having to write "lrndesign-" when it's redundant in most situations
      var parts = (display || '').split('-');
      this._displayStyle = parts.pop();
      this._displayFamily = parts.pop() || 'lrndesign';
      return this._displayFamily + '-' + this._displayStyle;
    },
    matchDisplay: function(test, display) {
      // verify that the test case requested matches the display
      // implemented by the end-user. This wrapper helps ensure
      // that shorthand display calls like card end up matching
      // the same as longhand lrndesign-card. This also makes it
      // so that paper-card would not match card or lrndesign-card
      // which are all different elements.
      if (this.getDisplay(test) == this.getDisplay(display)) {
        return true;
      }
      return false;
    }
  };
</script>
